<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="itwillbs.p2c3.class_will.mapper.MainMapper">


	<select id="selectBigCategory" resultType="map">
		SELECT *
		FROM common2
		WHERE common1_code = 'CLC'
		AND code_hide LIKE 'N';
	</select>
	
	<select id="selectSmallCategory" resultType="map">
		SELECT *
		FROM common3
		WHERE common1_code = 'CLC'
		AND code_hide LIKE 'N';
	</select>
	
	<select id="selectLocalCate" resultType="map">
		SELECT *
		FROM common2
		WHERE common1_code = 'LC'
		AND code_hide LIKE 'N';
	</select>

	<insert id="insertKeyword">
		INSERT INTO search_word(search_word_keyword, search_word_date)
		VALUES(#{keyword}, #{searchDateTime})
	</insert>
	
	
<!-- 	<select id="selectKeyword" resultType="map"> -->
<!-- 		SELECT  -->
<!-- 	</select> -->


	<insert id="insertVisitIp">
		INSERT INTO visit_logs(visit_date, ip_address)
		VALUES (#{visitDate}, #{ip})
	</insert>
	
	
	<select id="selectVisitIp" resultType="map">
		SELECT visit_date, ip_address
		FROM   visit_logs
		WHERE  visit_date = #{visitDate}
          AND  ip_address = #{ip}
	</select>
	
<!-- 	<select id="selectTop10"> -->
<!-- 		SELECT c.* -->
<!-- 		FROM class c -->
<!-- 		JOIN ( -->
<!-- 			    SELECT class_code, COUNT(*) AS count -->
<!-- 			    FROM pay -->
<!-- 			    GROUP BY class_code -->
<!-- 			    ORDER BY count DESC -->
<!-- 			    LIMIT 10 -->
<!-- 		) AS top_classes -->
<!-- 		ON c.class_code = top_classes.class_code -->
<!-- 		WHERE c.class_active LIKE 'N' -->
<!-- 	</select> -->

</mapper>