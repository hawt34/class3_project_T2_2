<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="itwillbs.p2c3.class_will.mapper.PayMapper">

	<select id="selectClassInfo" resultType="map">
		SELECT c.class_name
			   , c.class_type
			   , c2.code_value AS class_upper 
			   , c3.code_value AS class_lower
			   , c.class_big_category
			   , c.class_small_category
			   , c.class_thumnail
			   , c.class_location
			   , c.class_price
			   , c.class_ex
			   , c.class_creator_explain 
		--	   , cs.class_schedule_date
		--	   , cs.class_st_time 
		-- 	   , cs.class_ed_time
		-- 	   , cs.class_round 
		FROM class c
		-- JOIN class_schedule cs 
		-- ON c.class_code = cs.class_code 
		JOIN common1 c1
		ON c.class_type = c1.common1_code 
		JOIN common2 c2 
		ON c.class_big_category = c2.common2_code
		AND c2.common1_code = 3
		AND c2.common2_code = 10
		JOIN common3 c3 
		ON c.class_small_category = c3.common3_code
		AND c3.common1_code = 3
		AND c3.common2_code = 10 
		AND c3.common3_code = 8
		where c.class_code = #{class_code}
	</select>
	
	<select id="selectSchedule" resultType="map">
		SELECT *
		FROM class_schedule
		WHERE class_code = #{i}
	</select>
	
	<select id="selectScheduleTime" resultType="map">
		SELECT class_st_time
			   , class_ed_time
			   , class_remain_headcount
		FROM class_schedule
		WHERE class_schedule_date = #{date}
		AND class_code = #{class_code}
	</select>
</mapper>